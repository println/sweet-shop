import{$,A as b,Aa as q,B as S,F as E,G as Q,H as a,I as C,Ia as K,La as W,M as m,N as s,O as M,P as h,Q as t,R as n,S as u,V as y,W as _,X as c,Y as z,Z as O,_ as N,a as T,aa as l,b as D,ba as w,ca as g,f as F,g as V,ga as A,ja as P,ka as k,la as j,m as R,sa as G,ta as L,u as B,ua as X,va as H,y as x,z as f}from"./chunk-FKRMOUDZ.js";var J=["addToCartBtn"];function Z(r,o){if(r&1&&(t(0,"span",10),l(1),n()),r&2){let e=c().ngIf,i=c();a(),g("",i.calculateDiscount(e),"% OFF")}}function ee(r,o){if(r&1){let e=y();t(0,"button",56),_("click",function(){x(e);let d=c(2);return f(d.prevImage())}),b(),t(1,"svg",57),u(2,"path",58),n()()}}function te(r,o){if(r&1){let e=y();t(0,"button",59),_("click",function(){x(e);let d=c(2);return f(d.nextImage())}),b(),t(1,"svg",57),u(2,"path",60),n()()}}function ie(r,o){if(r&1&&u(0,"span",61),r&2){let e=o.index,i=c(2);h("bg-soft-brown",e===i.currentImageIndex)("bg-white",e!==i.currentImageIndex)}}function ne(r,o){if(r&1&&(t(0,"div",62),u(1,"img",63),n()),r&2){let e=o.$implicit,i=c().ngIf;a(),s("src",e,E)("alt",i.name)}}function re(r,o){if(r&1&&(t(0,"span",10),l(1),n()),r&2){let e=c().ngIf,i=c();a(),g("",i.calculateDiscount(e),"% OFF")}}function oe(r,o){if(r&1&&(t(0,"span",64),l(1),n()),r&2){let e=c().ngIf;a(),g("R$ ",e.originalPrice.toFixed(2),"")}}function ae(r,o){r&1&&(t(0,"span",67),l(1,"NEW"),n())}function le(r,o){if(r&1){let e=y();t(0,"button",65),_("click",function(){let d=x(e).$implicit,p=c(2);return f(p.selectedFlavor=d.name)}),m(1,ae,2,0,"span",66),n()}if(r&2){let e=o.$implicit,i=c(2);M("background-color",e.color),h("border-soft-brown",i.selectedFlavor===e.name)("border-gray-200",i.selectedFlavor!==e.name),s("title",e.name),a(),s("ngIf",e.isNew)}}function de(r,o){if(r&1){let e=y();t(0,"button",68),_("click",function(){let d=x(e).$implicit,p=c(2);return f(p.selectedSize=d)}),l(1),n()}if(r&2){let e=o.$implicit,i=c(2);h("btn-active",i.selectedSize===e)("bg-gray-100",i.selectedSize===e)("border-soft-brown",i.selectedSize===e)("text-soft-brown",i.selectedSize===e),a(),g(" ",e," ")}}function ce(r,o){r&1&&(t(0,"div",69),b(),t(1,"svg",70),u(2,"path",71),n()())}function se(r,o){r&1&&(t(0,"div",69),b(),t(1,"svg",70),u(2,"path",71),n()())}function me(r,o){r&1&&(t(0,"div",69),b(),t(1,"svg",70),u(2,"path",71),n()())}function pe(r,o){if(r&1){let e=y();t(0,"div",5)(1,"div",6)(2,"h1",7),l(3),n(),t(4,"div",8)(5,"div",9)(6,"span",10),l(7,"BLACK FRIDAY"),n(),m(8,Z,2,1,"span",11),n(),t(9,"div",12),b(),t(10,"svg",13),u(11,"path",14),n(),S(),t(12,"span",15),l(13),n(),t(14,"span",16),l(15),n()()()(),t(16,"div",17)(17,"div",18),_("touchstart",function(d){x(e);let p=c();return f(p.onTouchStart(d))})("touchend",function(d){x(e);let p=c();return f(p.onTouchEnd(d))}),u(18,"img",19),m(19,ee,3,0,"button",20)(20,te,3,0,"button",21),t(21,"div",22),m(22,ie,1,4,"span",23),n()(),t(23,"div",24),m(24,ne,2,2,"div",25),n()(),t(25,"div",26)(26,"div")(27,"div",27)(28,"h1",28),l(29),n(),t(30,"div",8)(31,"div",9)(32,"span",10),l(33,"BLACK FRIDAY"),n(),m(34,re,2,1,"span",11),n(),t(35,"div",12),b(),t(36,"svg",13),u(37,"path",14),n(),S(),t(38,"span",15),l(39),n(),t(40,"span",16),l(41),n()()()(),t(42,"div",29)(43,"div",30),m(44,oe,2,1,"span",31),t(45,"span",32),l(46),n(),t(47,"span",33),l(48,"no pix"),n()(),t(49,"p",34),l(50,"com cupom "),t(51,"span",35),l(52,"BF2025"),n()()(),t(53,"div",36)(54,"p"),l(55),n(),t(56,"p",37),l(57," Nossos doces s\xE3o feitos artesanalmente com os melhores ingredientes. Sabor inigual\xE1vel, textura perfeita e aquele toque de carinho que faz toda a diferen\xE7a. Ideal para presentear ou para aquele momento de indulg\xEAncia. "),n()(),t(58,"div",38)(59,"h3",39),l(60,"Sabor: "),t(61,"span",40),l(62),n()(),t(63,"div",41),m(64,le,2,8,"button",42),n()(),t(65,"div",38)(66,"div",43)(67,"h3",44),l(68,"Tamanho"),n(),t(69,"button",45),b(),t(70,"svg",46),u(71,"path",47),n(),l(72," Guia de medidas "),n()(),S(),t(73,"div",48),m(74,de,2,9,"button",49),n()(),t(75,"div",50)(76,"h3",39),l(77,"Quantidade"),n(),t(78,"div",51)(79,"div",52),_("click",function(){x(e);let d=c();return f(d.selectedQuantity=1)}),m(80,ce,3,0,"div",53),t(81,"div",15),l(82,"1 unid."),n(),t(83,"div",54),l(84),n()(),t(85,"div",52),_("click",function(){x(e);let d=c();return f(d.selectedQuantity=3)}),m(86,se,3,0,"div",53),t(87,"div",15),l(88,"Kit 3"),n(),t(89,"div",54),l(90),n()(),t(91,"div",52),_("click",function(){x(e);let d=c();return f(d.selectedQuantity=5)}),m(92,me,3,0,"div",53),t(93,"div",15),l(94,"Kit 5"),n(),t(95,"div",54),l(96),n()()()(),t(97,"button",55,1),_("click",function(){let d=x(e).ngIf,p=c();return f(p.addToCart(d))}),l(99," ADICIONAR AO CARRINHO "),n()()()()}if(r&2){let e=o.ngIf,i=c();a(3),w(e.name),a(5),s("ngIf",e.originalPrice),a(5),w((e.rating||4.9).toFixed(1)),a(2),g("(",e.reviews||25308," reviews)"),a(3),s("src",i.images[i.currentImageIndex],E)("alt",e.name),a(),s("ngIf",i.images.length>1),a(),s("ngIf",i.images.length>1),a(2),s("ngForOf",i.images),a(2),s("ngForOf",i.images),a(5),w(e.name),a(5),s("ngIf",e.originalPrice),a(5),w((e.rating||4.9).toFixed(1)),a(2),g("(",e.reviews||25308," reviews)"),a(3),s("ngIf",e.originalPrice),a(2),g("R$ ",e.price.toFixed(2),""),a(9),w(e.description),a(7),w(i.selectedFlavor),a(2),s("ngForOf",i.flavors),a(10),s("ngForOf",i.sizes),a(5),h("border-soft-brown",i.selectedQuantity===1)("bg-gray-50",i.selectedQuantity===1)("border-gray-200",i.selectedQuantity!==1),a(),s("ngIf",i.selectedQuantity===1),a(4),g("R$ ",e.price.toFixed(0),"/un"),a(),h("border-soft-brown",i.selectedQuantity===3)("bg-gray-50",i.selectedQuantity===3)("border-gray-200",i.selectedQuantity!==3),a(),s("ngIf",i.selectedQuantity===3),a(4),g("R$ ",(e.price*.9).toFixed(0),"/un"),a(),h("border-soft-brown",i.selectedQuantity===5)("bg-gray-50",i.selectedQuantity===5)("border-gray-200",i.selectedQuantity!==5),a(),s("ngIf",i.selectedQuantity===5),a(4),g("R$ ",(e.price*.85).toFixed(0),"/un")}}function ue(r,o){r&1&&(t(0,"div",72),u(1,"span",73),n())}function ge(r,o){if(r&1&&(t(0,"span",82),l(1),n()),r&2){let e=c().ngIf;a(),g("R$ ",e.originalPrice.toFixed(2),"")}}function xe(r,o){if(r&1){let e=y();t(0,"div",74)(1,"div",75)(2,"div",76)(3,"div",77),l(4),n(),t(5,"div",78)(6,"span",79),l(7),n(),m(8,ge,2,1,"span",80),n()(),t(9,"button",81),_("click",function(){let d=x(e).ngIf,p=c();return f(p.addToCart(d))}),l(10," Comprar "),n()()()}if(r&2){let e=o.ngIf,i=c();h("translate-y-full",!i.showStickyButton)("translate-y-0",i.showStickyButton),a(4),w(e.name),a(3),g("R$ ",e.price.toFixed(2),""),a(),s("ngIf",e.originalPrice)}}var U=class r{constructor(o,e,i){this.route=o;this.productsRepo=e;this.cartRepo=i;this.product$=this.route.paramMap.pipe(R(d=>{let p=d.get("id");return p?this.productsRepo.products$.pipe(V(Y=>{let v=Y.find(I=>I.id===p);if(v){let I=D(T({},v),{originalPrice:v.originalPrice||v.price*1.2,rating:v.rating||4.9,reviews:v.reviews||120,isNew:v.isNew});return this.images=[v.image,v.image,v.image,v.image],I}})):F(void 0)}))}product$;flavors=[{name:"Chocolate Belga",color:"#3E2723",isNew:!1},{name:"Baunilha",color:"#F5F5DC",isNew:!1},{name:"Morango",color:"#D81B60",isNew:!0},{name:"Pistache",color:"#9CCC65",isNew:!1},{name:"Doce de Leite",color:"#8D6E63",isNew:!1},{name:"Lim\xE3o Siciliano",color:"#FFF59D",isNew:!0}];selectedFlavor="Chocolate Belga";sizes=["P","M","G","GG"];selectedSize="M";selectedQuantity=1;images=[];currentImageIndex=0;showStickyButton=!1;addToCartBtn;ngOnInit(){this.productsRepo.load()}onWindowScroll(){if(this.addToCartBtn){let o=this.addToCartBtn.nativeElement.getBoundingClientRect();this.showStickyButton=o.bottom<60}}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}addToCart(o){console.log("Adding to cart:",{product:o,flavor:this.selectedFlavor,size:this.selectedSize,quantity:this.selectedQuantity});for(let e=0;e<this.selectedQuantity;e++)this.cartRepo.addItem(o)}calculateDiscount(o){return o.originalPrice?Math.round((o.originalPrice-o.price)/o.originalPrice*100):0}touchStartX=0;touchEndX=0;onTouchStart(o){this.touchStartX=o.changedTouches[0].screenX}onTouchEnd(o){this.touchEndX=o.changedTouches[0].screenX,this.handleSwipe()}handleSwipe(){this.touchEndX<this.touchStartX-50&&this.nextImage(),this.touchEndX>this.touchStartX+50&&this.prevImage()}static \u0275fac=function(e){return new(e||r)(C(q),C(K),C(W))};static \u0275cmp=B({type:r,selectors:[["app-product-detail"]],viewQuery:function(e,i){if(e&1&&z(J,5),e&2){let d;O(d=N())&&(i.addToCartBtn=d.first)}},hostBindings:function(e,i){e&1&&_("scroll",function(){return i.onWindowScroll()},!1,Q)},standalone:!0,features:[A],decls:7,vars:7,consts:[["loading",""],["addToCartBtn",""],[1,"container","mx-auto","p-4","lg:p-8","min-h-screen","bg-white","pb-24","lg:pb-8"],["class","flex flex-col lg:flex-row gap-6 lg:gap-12",4,"ngIf","ngIfElse"],["class","fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] lg:hidden z-40 transition-transform duration-300",3,"translate-y-full","translate-y-0",4,"ngIf"],[1,"flex","flex-col","lg:flex-row","gap-6","lg:gap-12"],[1,"lg:hidden"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","items-center","gap-4","mb-4"],[1,"flex","items-center","gap-1"],[1,"badge","badge-outline","border-gray-300","text-xs","font-bold","px-2","py-1"],["class","badge badge-outline border-gray-300 text-xs font-bold px-2 py-1",4,"ngIf"],[1,"flex","items-center","gap-1","text-sm","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"h-4","w-4","text-gray-900","fill-current"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"font-bold","text-gray-900"],[1,"underline","decoration-gray-300","underline-offset-2"],[1,"w-full","lg:w-3/5"],[1,"lg:hidden","relative","aspect-[4/5]","bg-gray-100","overflow-hidden","mb-6","group","-mx-4","w-[calc(100%+2rem)]",3,"touchstart","touchend"],[1,"w-full","h-full","object-cover","transition-opacity","duration-300",3,"src","alt"],["class","absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white",3,"click",4,"ngIf"],["class","absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white",3,"click",4,"ngIf"],[1,"absolute","bottom-4","left-1/2","-translate-x-1/2","flex","gap-2"],["class","block w-2 h-2 rounded-full transition-colors",3,"bg-soft-brown","bg-white",4,"ngFor","ngForOf"],[1,"hidden","lg:grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","aspect-[4/5] bg-gray-100 rounded-lg overflow-hidden",4,"ngFor","ngForOf"],[1,"w-full","lg:w-2/5","flex","flex-col","gap-6","sticky","top-24","h-fit"],[1,"hidden","lg:block"],[1,"text-3xl","lg:text-4xl","font-bold","text-gray-900","mb-2"],[1,"flex","flex-col","mb-6"],[1,"flex","items-center","gap-3"],["class","text-lg text-gray-400 line-through",4,"ngIf"],[1,"text-2xl","md:text-3xl","font-bold","text-soft-brown"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-red-700","font-medium","mt-1"],[1,"underline"],[1,"prose","prose-sm","text-gray-600","mb-6"],[1,"mt-4"],[1,"mb-6"],[1,"text-sm","font-bold","text-gray-900","mb-3","uppercase","tracking-wide"],[1,"font-normal","text-gray-600"],[1,"flex","flex-wrap","gap-3"],["class","w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all hover:scale-110 relative",3,"border-soft-brown","border-gray-200","background-color","title","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mb-3"],[1,"text-sm","font-bold","text-gray-900","uppercase","tracking-wide"],[1,"text-xs","text-gray-500","underline","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"],[1,"flex","flex-wrap","gap-2"],["class","btn btn-sm min-w-[3rem] border-gray-200 bg-white hover:bg-gray-50 hover:border-soft-brown text-gray-700 font-normal",3,"btn-active","bg-gray-100","border-soft-brown","text-soft-brown","click",4,"ngFor","ngForOf"],[1,"mb-8"],[1,"grid","grid-cols-3","gap-3"],[1,"border","rounded-lg","p-3","cursor-pointer","transition-all","text-center","relative",3,"click"],["class","absolute -top-2 -right-2 bg-black text-white rounded-full p-0.5",4,"ngIf"],[1,"text-xs","text-soft-brown","font-bold"],[1,"btn","btn-primary","btn-block","bg-black","hover:bg-gray-800","text-white","border-none","h-14","text-base","font-bold","uppercase","tracking-wide","rounded-md",3,"click"],[1,"absolute","left-2","top-1/2","-translate-y-1/2","bg-white/80","p-2","rounded-full","shadow-md","hover:bg-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-800"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","bg-white/80","p-2","rounded-full","shadow-md","hover:bg-white",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"block","w-2","h-2","rounded-full","transition-colors"],[1,"aspect-[4/5]","bg-gray-100","rounded-lg","overflow-hidden"],[1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-500",3,"src","alt"],[1,"text-lg","text-gray-400","line-through"],[1,"w-10","h-10","rounded-full","border-2","flex","items-center","justify-center","transition-all","hover:scale-110","relative",3,"click","title"],["class","absolute -top-3 -right-3 badge badge-xs bg-white text-black border-gray-200 shadow-sm text-[0.6rem] px-1",4,"ngIf"],[1,"absolute","-top-3","-right-3","badge","badge-xs","bg-white","text-black","border-gray-200","shadow-sm","text-[0.6rem]","px-1"],[1,"btn","btn-sm","min-w-[3rem]","border-gray-200","bg-white","hover:bg-gray-50","hover:border-soft-brown","text-gray-700","font-normal",3,"click"],[1,"absolute","-top-2","-right-2","bg-black","text-white","rounded-full","p-0.5"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-3","w-3"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","justify-center","items-center","min-h-[50vh]"],[1,"loading","loading-spinner","loading-lg","text-soft-brown"],[1,"fixed","bottom-0","left-0","right-0","p-4","bg-white","border-t","border-gray-200","shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]","lg:hidden","z-40","transition-transform","duration-300"],[1,"flex","items-center","gap-4"],[1,"flex-1"],[1,"text-xs","text-gray-500","font-bold","uppercase","mb-1"],[1,"flex","items-center","gap-2"],[1,"text-lg","font-bold","text-soft-brown"],["class","text-xs text-gray-400 line-through",4,"ngIf"],[1,"btn","btn-primary","bg-black","hover:bg-gray-800","text-white","border-none","px-6","font-bold","uppercase",3,"click"],[1,"text-xs","text-gray-400","line-through"]],template:function(e,i){if(e&1&&(t(0,"div",2),m(1,pe,100,44,"div",3),P(2,"async"),m(3,ue,2,0,"ng-template",null,0,j)(5,xe,11,7,"div",4),P(6,"async"),n()),e&2){let d=$(4);a(),s("ngIf",k(2,3,i.product$))("ngIfElse",d),a(4),s("ngIf",k(6,5,i.product$))}},dependencies:[H,G,L,X],encapsulation:2})};export{U as ProductDetailComponent};
