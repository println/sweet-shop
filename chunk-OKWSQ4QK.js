import{$ as y,Fa as H,H as E,I as B,J as a,M as S,N as Q,Na as q,Qa as K,R as m,T as d,U as M,V as h,W as t,X as n,Y as u,a as T,aa as b,b as D,ba as s,ca as O,da as z,ea as N,fa as $,g as F,ga as l,h as V,ha as w,ia as x,n as R,oa as P,pa as k,qa as A,w as g,wa as j,x as f,xa as G,y as v,ya as L,z as C,za as X}from"./chunk-RUDMHX7I.js";var Y=["addToCartBtn"];function J(r,o){if(r&1&&(t(0,"span",10),l(1),n()),r&2){let e=s().ngIf,i=s();a(),x("",i.calculateDiscount(e),"% OFF")}}function Z(r,o){if(r&1){let e=y();t(0,"button",56),b("click",function(){g(e);let c=s(2);return f(c.prevImage())}),v(),t(1,"svg",57),u(2,"path",58),n()()}}function ee(r,o){if(r&1){let e=y();t(0,"button",59),b("click",function(){g(e);let c=s(2);return f(c.nextImage())}),v(),t(1,"svg",57),u(2,"path",60),n()()}}function te(r,o){if(r&1&&u(0,"span",61),r&2){let e=o.index,i=s(2);h("bg-primary",e===i.currentImageIndex)("bg-base-100",e!==i.currentImageIndex)}}function ie(r,o){if(r&1&&(t(0,"div",62),u(1,"img",63),n()),r&2){let e=o.$implicit,i=s().ngIf;a(),d("src",e,E)("alt",i.name)}}function ne(r,o){if(r&1&&(t(0,"span",10),l(1),n()),r&2){let e=s().ngIf,i=s();a(),x("",i.calculateDiscount(e),"% OFF")}}function re(r,o){if(r&1&&(t(0,"span",64),l(1),n()),r&2){let e=s().ngIf;a(),x("R$ ",e.originalPrice.toFixed(2),"")}}function oe(r,o){r&1&&(t(0,"span",67),l(1,"NEW"),n())}function ae(r,o){if(r&1){let e=y();t(0,"button",65),b("click",function(){let c=g(e).$implicit,p=s(2);return f(p.selectedFlavor=c.name)}),m(1,oe,2,0,"span",66),n()}if(r&2){let e=o.$implicit,i=s(2);M("background-color",e.color),h("border-primary",i.selectedFlavor===e.name)("border-base-300",i.selectedFlavor!==e.name),d("title",e.name),a(),d("ngIf",e.isNew)}}function le(r,o){if(r&1){let e=y();t(0,"button",68),b("click",function(){let c=g(e).$implicit,p=s(2);return f(p.selectedSize=c)}),l(1),n()}if(r&2){let e=o.$implicit,i=s(2);h("btn-outline",i.selectedSize!==e)("btn-primary",i.selectedSize===e)("text-primary-content",i.selectedSize===e),a(),x(" ",e," ")}}function ce(r,o){r&1&&(t(0,"div",69),v(),t(1,"svg",70),u(2,"path",71),n()())}function se(r,o){r&1&&(t(0,"div",69),v(),t(1,"svg",70),u(2,"path",71),n()())}function de(r,o){r&1&&(t(0,"div",69),v(),t(1,"svg",70),u(2,"path",71),n()())}function me(r,o){if(r&1){let e=y();t(0,"div",5)(1,"div",6)(2,"h1",7),l(3),n(),t(4,"div",8)(5,"div",9)(6,"span",10),l(7,"BLACK FRIDAY"),n(),m(8,J,2,1,"span",11),n(),t(9,"div",12),v(),t(10,"svg",13),u(11,"path",14),n(),C(),t(12,"span",15),l(13),n(),t(14,"span",16),l(15),n()()()(),t(16,"div",17)(17,"div",18),b("touchstart",function(c){g(e);let p=s();return f(p.onTouchStart(c))})("touchend",function(c){g(e);let p=s();return f(p.onTouchEnd(c))}),u(18,"img",19),m(19,Z,3,0,"button",20)(20,ee,3,0,"button",21),t(21,"div",22),m(22,te,1,4,"span",23),n()(),t(23,"div",24),m(24,ie,2,2,"div",25),n()(),t(25,"div",26)(26,"div")(27,"div",27)(28,"h1",28),l(29),n(),t(30,"div",8)(31,"div",9)(32,"span",10),l(33,"BLACK FRIDAY"),n(),m(34,ne,2,1,"span",11),n(),t(35,"div",12),v(),t(36,"svg",13),u(37,"path",14),n(),C(),t(38,"span",15),l(39),n(),t(40,"span",16),l(41),n()()()(),t(42,"div",29)(43,"div",30),m(44,re,2,1,"span",31),t(45,"span",32),l(46),n(),t(47,"span",33),l(48,"no pix"),n()(),t(49,"p",34),l(50,"com cupom "),t(51,"span",35),l(52,"BF2025"),n()()(),t(53,"div",36)(54,"p"),l(55),n(),t(56,"p",37),l(57," Nossos doces s\xE3o feitos artesanalmente com os melhores ingredientes. Sabor inigual\xE1vel, textura perfeita e aquele toque de carinho que faz toda a diferen\xE7a. Ideal para presentear ou para aquele momento de indulg\xEAncia. "),n()(),t(58,"div",38)(59,"h3",39),l(60,"Sabor: "),t(61,"span",40),l(62),n()(),t(63,"div",41),m(64,ae,2,8,"button",42),n()(),t(65,"div",38)(66,"div",43)(67,"h3",44),l(68,"Tamanho"),n(),t(69,"button",45),v(),t(70,"svg",46),u(71,"path",47),n(),l(72," Guia de medidas "),n()(),C(),t(73,"div",48),m(74,le,2,7,"button",49),n()(),t(75,"div",50)(76,"h3",39),l(77,"Quantidade"),n(),t(78,"div",51)(79,"div",52),b("click",function(){g(e);let c=s();return f(c.selectedQuantity=1)}),m(80,ce,3,0,"div",53),t(81,"div",15),l(82,"1 unid."),n(),t(83,"div",54),l(84),n()(),t(85,"div",52),b("click",function(){g(e);let c=s();return f(c.selectedQuantity=3)}),m(86,se,3,0,"div",53),t(87,"div",15),l(88,"Kit 3"),n(),t(89,"div",54),l(90),n()(),t(91,"div",52),b("click",function(){g(e);let c=s();return f(c.selectedQuantity=5)}),m(92,de,3,0,"div",53),t(93,"div",15),l(94,"Kit 5"),n(),t(95,"div",54),l(96),n()()()(),t(97,"button",55,1),b("click",function(){let c=g(e).ngIf,p=s();return f(p.addToCart(c))}),l(99," ADICIONAR AO CARRINHO "),n()()()()}if(r&2){let e=o.ngIf,i=s();a(3),w(e.name),a(5),d("ngIf",e.originalPrice),a(5),w((e.rating||4.9).toFixed(1)),a(2),x("(",e.reviews||25308," reviews)"),a(3),d("src",i.images[i.currentImageIndex],E)("alt",e.name),a(),d("ngIf",i.images.length>1),a(),d("ngIf",i.images.length>1),a(2),d("ngForOf",i.images),a(2),d("ngForOf",i.images),a(5),w(e.name),a(5),d("ngIf",e.originalPrice),a(5),w((e.rating||4.9).toFixed(1)),a(2),x("(",e.reviews||25308," reviews)"),a(3),d("ngIf",e.originalPrice),a(2),x("R$ ",e.price.toFixed(2),""),a(9),w(e.description),a(7),w(i.selectedFlavor),a(2),d("ngForOf",i.flavors),a(10),d("ngForOf",i.sizes),a(5),h("border-primary",i.selectedQuantity===1)("bg-base-200",i.selectedQuantity===1)("border-base-300",i.selectedQuantity!==1),a(),d("ngIf",i.selectedQuantity===1),a(4),x("R$ ",e.price.toFixed(0),"/un"),a(),h("border-primary",i.selectedQuantity===3)("bg-base-200",i.selectedQuantity===3)("border-base-300",i.selectedQuantity!==3),a(),d("ngIf",i.selectedQuantity===3),a(4),x("R$ ",(e.price*.9).toFixed(0),"/un"),a(),h("border-primary",i.selectedQuantity===5)("bg-base-200",i.selectedQuantity===5)("border-base-300",i.selectedQuantity!==5),a(),d("ngIf",i.selectedQuantity===5),a(4),x("R$ ",(e.price*.85).toFixed(0),"/un")}}function pe(r,o){r&1&&(t(0,"div",72),u(1,"span",73),n())}function ue(r,o){if(r&1&&(t(0,"span",82),l(1),n()),r&2){let e=s().ngIf;a(),x("R$ ",e.originalPrice.toFixed(2),"")}}function xe(r,o){if(r&1){let e=y();t(0,"div",74)(1,"div",75)(2,"div",76)(3,"div",77),l(4),n(),t(5,"div",78)(6,"span",79),l(7),n(),m(8,ue,2,1,"span",80),n()(),t(9,"button",81),b("click",function(){let c=g(e).ngIf,p=s();return f(p.addToCart(c))}),l(10," Comprar "),n()()()}if(r&2){let e=o.ngIf,i=s();h("translate-y-full",!i.showStickyButton)("translate-y-0",i.showStickyButton),a(4),w(e.name),a(3),x("R$ ",e.price.toFixed(2),""),a(),d("ngIf",e.originalPrice)}}var W=class r{constructor(o,e,i){this.route=o;this.productsRepo=e;this.cartRepo=i;this.product$=this.route.paramMap.pipe(R(c=>{let p=c.get("id");return p?this.productsRepo.products$.pipe(V(U=>{let _=U.find(I=>I.id===p);if(_){let I=D(T({},_),{originalPrice:_.originalPrice||_.price*1.2,rating:_.rating||4.9,reviews:_.reviews||120,isNew:_.isNew});return this.images=[_.image,_.image,_.image,_.image],I}})):F(void 0)}))}product$;flavors=[{name:"Chocolate Belga",color:"#3E2723",isNew:!1},{name:"Baunilha",color:"#F5F5DC",isNew:!1},{name:"Morango",color:"#D81B60",isNew:!0},{name:"Pistache",color:"#9CCC65",isNew:!1},{name:"Doce de Leite",color:"#8D6E63",isNew:!1},{name:"Lim\xE3o Siciliano",color:"#FFF59D",isNew:!0}];selectedFlavor="Chocolate Belga";sizes=["P","M","G","GG"];selectedSize="M";selectedQuantity=1;images=[];currentImageIndex=0;showStickyButton=!1;addToCartBtn;ngOnInit(){this.productsRepo.load()}onWindowScroll(){if(this.addToCartBtn){let o=this.addToCartBtn.nativeElement.getBoundingClientRect();this.showStickyButton=o.bottom<60}}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}addToCart(o){console.log("Adding to cart:",{product:o,flavor:this.selectedFlavor,size:this.selectedSize,quantity:this.selectedQuantity});for(let e=0;e<this.selectedQuantity;e++)this.cartRepo.addItem(o)}calculateDiscount(o){return o.originalPrice?Math.round((o.originalPrice-o.price)/o.originalPrice*100):0}touchStartX=0;touchEndX=0;onTouchStart(o){this.touchStartX=o.changedTouches[0].screenX}onTouchEnd(o){this.touchEndX=o.changedTouches[0].screenX,this.handleSwipe()}handleSwipe(){this.touchEndX<this.touchStartX-50&&this.nextImage(),this.touchEndX>this.touchStartX+50&&this.prevImage()}static \u0275fac=function(e){return new(e||r)(S(H),S(q),S(K))};static \u0275cmp=Q({type:r,selectors:[["app-product-detail"]],viewQuery:function(e,i){if(e&1&&O(Y,5),e&2){let c;z(c=N())&&(i.addToCartBtn=c.first)}},hostBindings:function(e,i){e&1&&b("scroll",function(){return i.onWindowScroll()},!1,B)},decls:7,vars:7,consts:[["loading",""],["addToCartBtn",""],[1,"container","mx-auto","p-4","lg:p-8","min-h-screen","bg-base-100","pb-24","lg:pb-8"],["class","flex flex-col lg:flex-row gap-6 lg:gap-12",4,"ngIf","ngIfElse"],["class","fixed bottom-0 left-0 right-0 p-4 bg-base-100 border-t border-base-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] lg:hidden z-40 transition-transform duration-300",3,"translate-y-full","translate-y-0",4,"ngIf"],[1,"flex","flex-col","lg:flex-row","gap-6","lg:gap-12"],[1,"lg:hidden"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"flex","items-center","gap-4","mb-4"],[1,"flex","items-center","gap-1"],[1,"badge","badge-outline","border-base-300","text-xs","font-bold","px-2","py-1"],["class","badge badge-outline border-base-300 text-xs font-bold px-2 py-1",4,"ngIf"],[1,"flex","items-center","gap-1","text-sm","text-base-content/60"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"h-4","w-4","text-base-content","fill-current"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"font-bold","text-base-content"],[1,"underline","decoration-base-300","underline-offset-2"],[1,"w-full","lg:w-3/5"],[1,"lg:hidden","relative","aspect-[4/5]","bg-base-200","overflow-hidden","mb-6","group","-mx-4","w-[calc(100%+2rem)]",3,"touchstart","touchend"],[1,"w-full","h-full","object-cover","transition-opacity","duration-300",3,"src","alt"],["class","absolute left-2 top-1/2 -translate-y-1/2 bg-base-100/80 p-2 rounded-full shadow-md hover:bg-base-100",3,"click",4,"ngIf"],["class","absolute right-2 top-1/2 -translate-y-1/2 bg-base-100/80 p-2 rounded-full shadow-md hover:bg-base-100",3,"click",4,"ngIf"],[1,"absolute","bottom-4","left-1/2","-translate-x-1/2","flex","gap-2"],["class","block w-2 h-2 rounded-full transition-colors",3,"bg-primary","bg-base-100",4,"ngFor","ngForOf"],[1,"hidden","lg:grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","aspect-[4/5] bg-base-200 rounded-lg overflow-hidden",4,"ngFor","ngForOf"],[1,"w-full","lg:w-2/5","flex","flex-col","gap-6","sticky","top-24","h-fit"],[1,"hidden","lg:block"],[1,"text-3xl","lg:text-4xl","font-bold","text-base-content","mb-2"],[1,"flex","flex-col","mb-6"],[1,"flex","items-center","gap-3"],["class","text-lg text-base-content/40 line-through",4,"ngIf"],[1,"text-2xl","md:text-3xl","font-bold","text-primary"],[1,"text-sm","text-base-content/60"],[1,"text-xs","text-error","font-medium","mt-1"],[1,"underline"],[1,"prose","prose-sm","text-base-content/70","mb-6"],[1,"mt-4"],[1,"mb-6"],[1,"text-sm","font-bold","text-base-content","mb-3","uppercase","tracking-wide"],[1,"font-normal","text-base-content/70"],[1,"flex","flex-wrap","gap-3"],["class","w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all hover:scale-110 relative",3,"border-primary","border-base-300","background-color","title","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mb-3"],[1,"text-sm","font-bold","text-base-content","uppercase","tracking-wide"],[1,"btn","btn-link","btn-xs","text-base-content/60","no-underline","hover:text-primary","flex","items-center","gap-1","p-0"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"],[1,"flex","flex-wrap","gap-2"],["class","btn btn-sm min-w-[3rem] hover:bg-base-200 hover:border-primary font-normal",3,"btn-outline","btn-primary","text-primary-content","click",4,"ngFor","ngForOf"],[1,"mb-8"],[1,"grid","grid-cols-3","gap-3"],[1,"border","rounded-lg","p-3","cursor-pointer","transition-all","text-center","relative",3,"click"],["class","absolute -top-2 -right-2 bg-base-content text-base-100 rounded-full p-0.5",4,"ngIf"],[1,"text-xs","text-primary","font-bold"],[1,"btn","btn-primary","btn-block","text-primary-content","border-none","h-14","text-base","font-bold","uppercase","tracking-wide","rounded-md","hover:bg-primary-focus",3,"click"],[1,"absolute","left-2","top-1/2","-translate-y-1/2","bg-base-100/80","p-2","rounded-full","shadow-md","hover:bg-base-100",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-base-content"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","bg-base-100/80","p-2","rounded-full","shadow-md","hover:bg-base-100",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"block","w-2","h-2","rounded-full","transition-colors"],[1,"aspect-[4/5]","bg-base-200","rounded-lg","overflow-hidden"],[1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-500",3,"src","alt"],[1,"text-lg","text-base-content/40","line-through"],[1,"w-10","h-10","rounded-full","border-2","flex","items-center","justify-center","transition-all","hover:scale-110","relative",3,"click","title"],["class","absolute -top-3 -right-3 badge badge-xs bg-base-100 text-base-content border-base-200 shadow-sm text-[0.6rem] px-1",4,"ngIf"],[1,"absolute","-top-3","-right-3","badge","badge-xs","bg-base-100","text-base-content","border-base-200","shadow-sm","text-[0.6rem]","px-1"],[1,"btn","btn-sm","min-w-[3rem]","hover:bg-base-200","hover:border-primary","font-normal",3,"click"],[1,"absolute","-top-2","-right-2","bg-base-content","text-base-100","rounded-full","p-0.5"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-3","w-3"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","justify-center","items-center","min-h-[50vh]"],[1,"loading","loading-spinner","loading-lg","text-primary"],[1,"fixed","bottom-0","left-0","right-0","p-4","bg-base-100","border-t","border-base-200","shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]","lg:hidden","z-40","transition-transform","duration-300"],[1,"flex","items-center","gap-4"],[1,"flex-1"],[1,"text-xs","text-base-content/60","font-bold","uppercase","mb-1"],[1,"flex","items-center","gap-2"],[1,"text-lg","font-bold","text-primary"],["class","text-xs text-base-content/40 line-through",4,"ngIf"],[1,"btn","btn-primary","text-primary-content","border-none","px-6","font-bold","uppercase","hover:bg-primary-focus",3,"click"],[1,"text-xs","text-base-content/40","line-through"]],template:function(e,i){if(e&1&&(t(0,"div",2),m(1,me,100,44,"div",3),P(2,"async"),m(3,pe,2,0,"ng-template",null,0,A)(5,xe,11,7,"div",4),P(6,"async"),n()),e&2){let c=$(4);a(),d("ngIf",k(2,3,i.product$))("ngIfElse",c),a(4),d("ngIf",k(6,5,i.product$))}},dependencies:[X,j,G,L],encapsulation:2})};export{W as ProductDetailComponent};
